import{o as s,f as d,b as a,l as V,K as z,m as N,O as E,y as D,p as U,a as p,u as c,w as _,F as h,q as F,Z as A,c as m,d as L,t as u,g as i,s as y,v as g,k as v,x as W}from"./app-dd94624b.js";import{_ as q,a as H,c as K}from"./AuthenticatedLayout-66150128.js";import{a as M}from"./TextInput-421a4c9d.js";import{_ as R}from"./PrimaryButton-f5a76b26.js";import{_ as Z}from"./SelectInput-9e4deb14.js";import{_ as $}from"./DangerButton-595f0c98.js";import{r as x,_ as J,a as Q}from"./Pagination-19c18622.js";import X from"./Create-b071d83c.js";import Y from"./Edit-187f13a4.js";import ee from"./TerminarReporte-b0d70c9d.js";import te from"./Delete-b0c8d775.js";import re from"./DeleteBulk-7df22794.js";import{_ as se}from"./Checkbox-baec7386.js";import{_ as O,r as oe}from"./InfoButton-d26ad28d.js";import{b as ae,n as S,f as j}from"./global-32514258.js";import"./index-c29845a6.js";import"./InputError-99b22b36.js";import"./SecondaryButton-320d8f83.js";import"./vue-select-a04d1989.js";/* empty css             */import"./vue-datepicker-2ac9f674.js";const le={class:"face"},ne=a("div",{class:"hand"},[a("div",{class:"hand"},[a("div",{class:"hour"}),a("div",{class:"minute"})])],-1),de=[ne],ie={__name:"ClockWorking",props:{},setup(b){return(t,w)=>(s(),d("div",le,de))}},pe={class:"space-y-4"},ce={class:"px-4 sm:px-0"},me={class:"rounded-lg overflow-hidden w-fit"},ue={class:"relative bg-white dark:bg-gray-800 shadow sm:rounded-lg"},fe={class:"flex justify-between p-2"},_e={class:"flex space-x-2"},be={class:"overflow-x-auto scrollbar-table"},ye={key:0,class:"w-full"},he={class:"uppercase text-sm border-t border-gray-200 dark:border-gray-700"},ge={class:"dark:bg-gray-900/50 text-left"},ke={key:0,class:"px-2 py-4 text-center"},ve=a("th",{class:"px-2 py-4"},"Accion",-1),we=a("th",{class:"px-2 py-4 text-center"},"#",-1),Ce=["onClick"],$e={class:"flex justify-between items-center"},xe={key:0,class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},Oe=["value"],Se={class:"whitespace-nowrap py-4 w-12 px-2 sm:py-3"},je={class:"flex justify-center items-center"},Pe={class:"rounded-md overflow-hidden"},Te={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},Be={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Ge={key:0},Ie={key:1},Ve={key:2},ze={key:3},Ne={key:4},Ee={key:5},De={key:6},Ue={key:7},Fe={key:1,class:"text-center text-xl my-8"},Ae={key:0,class:"flex justify-between items-center p-2 border-t border-gray-200 dark:border-gray-700"},it={__name:"Index",props:{fromController:Object,total:Number,filters:Object,breadcrumbs:Object,perPage:Number,title:String,numberPermissions:Number,losSelect:Object,valuesGoogleCabeza:Object,valuesGoogleBody:Object,Trabajadores:Object},setup(b){const t=b,{_:w,debounce:P,pickBy:T}=F,e=V({params:{search:t.filters.search,field:t.filters.field,order:t.filters.order,perPage:t.perPage},generico:null,selectedId:[],multipleSelect:!1,createOpen:!1,editOpen:!1,TerminarOpen:!1,deleteOpen:!1,dataSet:z().props.app.perpage,totalEmpleados:0,deleteBulkOpen:!1}),B=l=>{e.params.field=l,e.params.order=e.params.order==="asc"?"desc":"asc"};N(()=>w.cloneDeep(e.params),P(()=>{let l=T(e.params);E.get(route("reporte.index"),l,{replace:!0,preserveState:!0,preserveScroll:!0})},150));const G=l=>{var o;l.target.checked===!1?e.selectedId=[]:(o=t.fromController)==null||o.data.forEach(f=>{e.selectedId.push(f.id)})},I=()=>{var l;((l=t.reportes)==null?void 0:l.data.length)==e.selectedId.length?e.multipleSelect=!0:e.multipleSelect=!1};D(()=>{});const C=[{order:"fecha",label:"fecha",type:"date"},{order:"operario_id",label:"operario",type:"foreign",nameid:"operario_s"},{order:"hora_inicial",label:"hora inicial",type:"time"},{order:"hora_final",label:"hora final",type:"time"},{order:"actividad_id",label:"actividad",type:"foreign",nameid:"actividad_s"},{order:"centrotrabajo_id",label:"centrotrabajo",type:"foreign",nameid:"centrotrabajo_s"},{order:"OTItem",label:"ordentrabajo",type:"text"},{order:"TiempoEstimado",label:"TiempoEstimado",type:"text"},{order:"disponibilidad_id",label:"disponibilidad",type:"foreign",nameid:"disponibilidad_s"},{order:"reproceso_id",label:"reproceso",type:"foreign",nameid:"reproceso_s"}];return(l,o)=>{const f=U("tooltip");return s(),d(h,null,[p(c(A),{title:t.title},null,8,["title"]),p(q,null,{default:_(()=>[p(H,{title:b.title,breadcrumbs:b.breadcrumbs},null,8,["title","breadcrumbs"]),a("div",pe,[a("div",ce,[a("div",me,[l.can(["create reporte"])?(s(),m(R,{key:0,class:"rounded-none",onClick:o[0]||(o[0]=r=>e.createOpen=!0)},{default:_(()=>[L(u(l.lang().button.add),1)]),_:1})):i("",!0),l.can(["create reporte"])?(s(),m(X,{key:1,numberPermissions:t.numberPermissions,show:e.createOpen,onClose:o[1]||(o[1]=r=>e.createOpen=!1),title:t.title,losSelect:t.losSelect,valuesGoogleCabeza:t.valuesGoogleCabeza,valuesGoogleBody:t.valuesGoogleBody,Trabajadores:t.Trabajadores},null,8,["numberPermissions","show","title","losSelect","valuesGoogleCabeza","valuesGoogleBody","Trabajadores"])):i("",!0),l.can(["update reporte"])&&b.numberPermissions>1?(s(),m(Y,{key:2,numberPermissions:t.numberPermissions,show:e.editOpen,onClose:o[2]||(o[2]=r=>e.editOpen=!1),generica:e.generico,title:t.title,losSelect:t.losSelect,valuesGoogleCabeza:t.valuesGoogleCabeza,valuesGoogleBody:t.valuesGoogleBody,Trabajadores:t.Trabajadores},null,8,["numberPermissions","show","generica","title","losSelect","valuesGoogleCabeza","valuesGoogleBody","Trabajadores"])):i("",!0),l.can(["read reporte"])?(s(),m(ee,{key:3,numberPermissions:t.numberPermissions,show:e.TerminarOpen,onClose:o[3]||(o[3]=r=>e.TerminarOpen=!1),generica:e.generico,title:t.title},null,8,["numberPermissions","show","generica","title"])):i("",!0),l.can(["delete reporte"])?(s(),m(te,{key:4,numberPermissions:t.numberPermissions,show:e.deleteOpen,onClose:o[4]||(o[4]=r=>e.deleteOpen=!1),generica:e.generico,title:t.title},null,8,["numberPermissions","show","generica","title"])):i("",!0),p(re,{show:e.deleteBulkOpen,onClose:o[5]||(o[5]=r=>(e.deleteBulkOpen=!1,e.multipleSelect=!1,e.selectedId=[])),selectedId:e.selectedId,title:t.title},null,8,["show","selectedId","title"])])]),a("div",ue,[a("div",fe,[a("div",_e,[p(Z,{modelValue:e.params.perPage,"onUpdate:modelValue":o[6]||(o[6]=r=>e.params.perPage=r),dataSet:e.dataSet},null,8,["modelValue","dataSet"]),y((s(),m($,{onClick:o[7]||(o[7]=r=>e.deleteBulkOpen=!0),class:"px-3 py-1.5"},{default:_(()=>[p(c(x),{class:"w-5 h-5"})]),_:1})),[[g,e.selectedId.length!=0&&l.can(["delete reporte"])],[f,l.lang().tooltip.delete_selected]])]),t.numberPermissions>1?(s(),m(M,{key:0,modelValue:e.params.search,"onUpdate:modelValue":o[8]||(o[8]=r=>e.params.search=r),type:"text",class:"block w-4/6 md:w-3/6 lg:w-2/6 rounded-lg",placeholder:"codigo o fecha "},null,8,["modelValue"])):i("",!0)]),a("div",be,[t.total>0?(s(),d("table",ye,[a("thead",he,[a("tr",ge,[t.numberPermissions>1?(s(),d("th",ke,[p(se,{checked:e.multipleSelect,"onUpdate:checked":o[9]||(o[9]=r=>e.multipleSelect=r),onChange:G},null,8,["checked"])])):i("",!0),ve,we,(s(),d(h,null,v(C,r=>a("th",{class:"px-2 py-4 cursor-pointer min-w-min",onClick:k=>B(r.order)},[a("div",$e,[a("span",null,u(l.lang().label[r.label]),1),p(c(Q),{class:"w-4 h-4"})])],8,Ce)),64))])]),a("tbody",null,[(s(!0),d(h,null,v(t.fromController.data,(r,k)=>(s(),d("tr",{key:k,class:"border-t border-gray-200 dark:border-gray-700 hover:bg-gray-200/30 hover:dark:bg-gray-900/20"},[t.numberPermissions>1?(s(),d("td",xe,[y(a("input",{class:"rounded dark:bg-gray-900 border-gray-300 dark:border-gray-700 text-primary dark:text-primary shadow-sm focus:ring-primary/80 dark:focus:ring-primary dark:focus:ring-offset-gray-800 dark:checked:bg-primary dark:checked:border-primary",type:"checkbox",onChange:I,value:r.id,"onUpdate:modelValue":o[10]||(o[10]=n=>e.selectedId=n)},null,40,Oe),[[W,e.selectedId]])])):i("",!0),a("td",Se,[a("div",je,[a("div",Pe,[y((s(),m(O,{type:"button",onClick:n=>(e.editOpen=!0,e.generico=r),class:"px-2 py-1.5 rounded-none"},{default:_(()=>[p(c(oe),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[g,l.can(["update reporte"])],[f,l.lang().tooltip.edit]]),r.hora_final?i("",!0):y((s(),m(O,{key:0,type:"button",onClick:n=>(e.TerminarOpen=!0,e.generico=r),class:"px-2 py-1.5 rounded-none"},{default:_(()=>[p(c(K),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[g,l.can(["create reporte"])],[f,l.lang().tooltip.edit]]),y((s(),m($,{type:"button",onClick:n=>(e.deleteOpen=!0,e.generico=r),class:"px-2 py-1.5 rounded-none"},{default:_(()=>[p(c(x),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[g,l.can(["delete reporte"])],[f,l.lang().tooltip.delete]])])])]),a("td",Te,u(++k),1),(s(),d(h,null,v(C,n=>a("td",Be,[n.type=="text"?(s(),d("span",Ge,u(r[n.order]),1)):i("",!0),n.type=="time"?(s(),d("span",Ie,u(c(ae)(r[n.order])),1)):i("",!0),n.type=="number"?(s(),d("span",Ve,u(c(S)(r[n.order],0,!1)),1)):i("",!0),n.type=="dinero"?(s(),d("span",ze,u(c(S)(r[n.order],0,!0)),1)):i("",!0),n.type=="date"?(s(),d("span",Ne,u(c(j)(r[n.order],"")),1)):i("",!0),n.type=="datetime"?(s(),d("span",Ee,u(c(j)(r[n.order],"conLaHora")),1)):i("",!0),n.type=="foreign"?(s(),d("span",De,u(r[n.nameid]),1)):i("",!0),n.order=="hora_final"&&r[n.order]==null?(s(),d("span",Ue,[p(ie)])):i("",!0)])),64))]))),128))])])):(s(),d("h2",Fe,"Sin Registros"))]),t.total>0?(s(),d("div",Ae,[p(J,{links:t.fromController,filters:e.params},null,8,["links","filters"])])):i("",!0)])])]),_:1})],64)}}};export{it as default};
