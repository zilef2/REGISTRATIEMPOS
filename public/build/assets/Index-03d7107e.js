import{o,f as i,b as t,l as B,K as V,m as z,O as I,y as N,p as D,a as p,u as c,w as y,F as f,q as E,Z as U,c as u,d as A,t as m,g as d,k,s as h,x as F,v}from"./app-f2326059.js";import{_ as H,a as L,c as W}from"./AuthenticatedLayout-1ea82094.js";import{a as q}from"./TextInput-235477d9.js";import{_ as K}from"./PrimaryButton-8575f0a0.js";import{_ as M}from"./SelectInput-23af0470.js";import{_ as R}from"./DangerButton-586fa28f.js";import{_ as Z,a as J,r as Q}from"./Pagination-fa79fde8.js";import X from"./Create-2ac26e87.js";import Y from"./Edit-1968a8a7.js";import ee from"./TerminarReporte-7fb1f39f.js";import te from"./Delete-b0c2964a.js";import{_ as re}from"./Checkbox-0cd023d4.js";import{_ as C,r as se}from"./InfoButton-83385bd7.js";import{b as oe,c as ae,n as $,f as O}from"./global-b0d05eda.js";import"./index-b74043ae.js";import"./InputError-111b2d05.js";import"./SecondaryButton-06ec2122.js";import"./vue-select-6d992ad4.js";import"./vue-datepicker-29ed76b2.js";/* empty css             */const ne={class:"face"},le=t("div",{class:"hand"},[t("div",{class:"hand"},[t("div",{class:"hour"}),t("div",{class:"minute"})])],-1),ie=[le],de={__name:"ClockWorking",props:{},setup(_){return(r,w)=>(o(),i("div",ne,ie))}},pe={class:"space-y-4"},ce={class:"px-4 sm:px-0"},me={class:"rounded-lg overflow-hidden w-fit"},ue={class:"relative bg-white dark:bg-gray-800 shadow sm:rounded-lg"},_e={class:"flex justify-between p-2"},be={class:"flex space-x-2"},ye={class:"overflow-x-auto scrollbar-table"},fe={key:0,class:"w-full"},he={class:"uppercase text-sm border-t border-gray-200 dark:border-gray-700"},ge={class:"dark:bg-gray-900/50 text-left"},ke={class:"px-2 py-4 text-center"},ve=t("th",{class:"px-2 py-4"},"Accion",-1),we=t("th",{class:"px-2 py-4 text-center"},"#",-1),xe=["onClick"],Ce={class:"flex justify-between items-center"},$e={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},Oe=["value"],je={class:"whitespace-nowrap py-4 w-12 px-2 sm:py-3"},Pe={class:"flex justify-center items-center"},Se={class:"rounded-md overflow-hidden"},Ge={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},Te={class:"whitespace-nowrap py-4 px-2 sm:py-3"},Be={key:0},Ve={key:1},ze={key:2},Ie={key:3},Ne={key:4},De={key:5},Ee={key:6},Ue={key:7},Ae=t("td",{class:"whitespace-nowrap py-4 w-12 px-2 sm:py-3 text-center"},null,-1),Fe={key:0,class:"whitespace-nowrap py-4 w-12 px-2 sm:py-3 text-center"},He=t("td",{class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},null,-1),Le=t("td",{class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},null,-1),We=t("td",{class:"whitespace-nowrap py-4 px-2 sm:py-3 font-extrabold text-center"}," Hora inicial Promedio: ",-1),qe={class:"whitespace-nowrap py-4 px-2 sm:py-3 text-center"},Ke={key:1,class:"text-center text-xl my-8"},Me={key:0,class:"flex justify-between items-center p-2 border-t border-gray-200 dark:border-gray-700"},_t={__name:"Index",props:{fromController:Object,total:Number,filters:Object,breadcrumbs:Object,perPage:Number,title:String,numberPermissions:Number,losSelect:Object,valuesGoogleCabeza:Object,valuesGoogleBody:Object,Trabajadores:Object},setup(_){const r=_,{_:w,debounce:j,pickBy:P}=E,e=B({params:{search:r.filters.search,field:r.filters.field,order:r.filters.order,perPage:r.perPage},generico:null,selectedId:[],multipleSelect:!1,createOpen:!1,editOpen:!1,TerminarOpen:!1,deleteOpen:!1,dataSet:V().props.app.perpage,totalEmpleados:0}),S=a=>{e.params.field=a,e.params.order=e.params.order==="asc"?"desc":"asc"};z(()=>w.cloneDeep(e.params),j(()=>{let a=P(e.params);I.get(route("reporte.index"),a,{replace:!0,preserveState:!0,preserveScroll:!0})},150));const G=a=>{var n;a.target.checked===!1?e.selectedId=[]:(n=r.reportes)==null||n.data.forEach(b=>{e.selectedId.push(b.id)})},T=()=>{var a;((a=r.reportes)==null?void 0:a.data.length)==e.selectedId.length?e.multipleSelect=!0:e.multipleSelect=!1};N(()=>{});const x=[{order:"fecha",label:"fecha",type:"date"},{order:"hora_inicial",label:"hora inicial",type:"time"},{order:"hora_final",label:"hora final",type:"time"},{order:"actividad_id",label:"actividad",type:"foreign",nameid:"actividad_s"},{order:"centrotrabajo_id",label:"centrotrabajo",type:"foreign",nameid:"centrotrabajo_s"},{order:"ordentrabajo_id",label:"ordentrabajo",type:"foreign",nameid:"ordentrabajo_id"},{order:"disponibilidad_id",label:"disponibilidad",type:"foreign",nameid:"disponibilidad_s"},{order:"reproceso_id",label:"reproceso",type:"foreign",nameid:"reproceso_s"},{order:"operario_id",label:"operario",type:"foreign",nameid:"operario_s"}];return(a,n)=>{const b=D("tooltip");return o(),i(f,null,[p(c(U),{title:r.title},null,8,["title"]),p(H,null,{default:y(()=>[p(L,{title:_.title,breadcrumbs:_.breadcrumbs},null,8,["title","breadcrumbs"]),t("div",pe,[t("div",ce,[t("div",me,[a.can(["create reporte"])?(o(),u(K,{key:0,class:"rounded-none",onClick:n[0]||(n[0]=s=>e.createOpen=!0)},{default:y(()=>[A(m(a.lang().button.add),1)]),_:1})):d("",!0),a.can(["create reporte"])?(o(),u(X,{key:1,numberPermissions:r.numberPermissions,show:e.createOpen,onClose:n[1]||(n[1]=s=>e.createOpen=!1),title:r.title,losSelect:r.losSelect,valuesGoogleCabeza:r.valuesGoogleCabeza,valuesGoogleBody:r.valuesGoogleBody,Trabajadores:r.Trabajadores},null,8,["numberPermissions","show","title","losSelect","valuesGoogleCabeza","valuesGoogleBody","Trabajadores"])):d("",!0),a.can(["update reporte"])&&_.numberPermissions>1?(o(),u(Y,{key:2,numberPermissions:r.numberPermissions,show:e.editOpen,onClose:n[2]||(n[2]=s=>e.editOpen=!1),generica:e.generico,title:r.title,losSelect:r.losSelect,valuesGoogleCabeza:r.valuesGoogleCabeza,valuesGoogleBody:r.valuesGoogleBody,Trabajadores:r.Trabajadores},null,8,["numberPermissions","show","generica","title","losSelect","valuesGoogleCabeza","valuesGoogleBody","Trabajadores"])):d("",!0),a.can(["read reporte"])?(o(),u(ee,{key:3,numberPermissions:r.numberPermissions,show:e.TerminarOpen,onClose:n[3]||(n[3]=s=>e.TerminarOpen=!1),generica:e.generico,title:r.title},null,8,["numberPermissions","show","generica","title"])):d("",!0),a.can(["delete reporte"])?(o(),u(te,{key:4,numberPermissions:r.numberPermissions,show:e.deleteOpen,onClose:n[4]||(n[4]=s=>e.deleteOpen=!1),generica:e.generico,title:r.title},null,8,["numberPermissions","show","generica","title"])):d("",!0)])]),t("div",ue,[t("div",_e,[t("div",be,[p(M,{modelValue:e.params.perPage,"onUpdate:modelValue":n[5]||(n[5]=s=>e.params.perPage=s),dataSet:e.dataSet},null,8,["modelValue","dataSet"])]),r.numberPermissions>1?(o(),u(q,{key:0,modelValue:e.params.search,"onUpdate:modelValue":n[6]||(n[6]=s=>e.params.search=s),type:"text",class:"block w-4/6 md:w-3/6 lg:w-2/6 rounded-lg",placeholder:"codigo o fecha "},null,8,["modelValue"])):d("",!0)]),t("div",ye,[r.total>0?(o(),i("table",fe,[t("thead",he,[t("tr",ge,[t("th",ke,[p(re,{checked:e.multipleSelect,"onUpdate:checked":n[7]||(n[7]=s=>e.multipleSelect=s),onChange:G},null,8,["checked"])]),ve,we,(o(),i(f,null,k(x,s=>t("th",{class:"px-2 py-4 cursor-pointer min-w-min",onClick:g=>S(s.order)},[t("div",Ce,[t("span",null,m(a.lang().label[s.label]),1),p(c(J),{class:"w-4 h-4"})])],8,xe)),64))])]),t("tbody",null,[(o(!0),i(f,null,k(r.fromController.data,(s,g)=>(o(),i("tr",{key:g,class:"border-t border-gray-200 dark:border-gray-700 hover:bg-gray-200/30 hover:dark:bg-gray-900/20"},[t("td",$e,[h(t("input",{class:"rounded dark:bg-gray-900 border-gray-300 dark:border-gray-700 text-primary dark:text-primary shadow-sm focus:ring-primary/80 dark:focus:ring-primary dark:focus:ring-offset-gray-800 dark:checked:bg-primary dark:checked:border-primary",type:"checkbox",onChange:T,value:s.id,"onUpdate:modelValue":n[8]||(n[8]=l=>e.selectedId=l)},null,40,Oe),[[F,e.selectedId]])]),t("td",je,[t("div",Pe,[t("div",Se,[h((o(),u(C,{type:"button",onClick:l=>(e.editOpen=!0,e.generico=s),class:"px-2 py-1.5 rounded-none"},{default:y(()=>[p(c(se),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[v,a.can(["update reporte"])],[b,a.lang().tooltip.edit]]),s.hora_final?d("",!0):h((o(),u(C,{key:0,type:"button",onClick:l=>(e.TerminarOpen=!0,e.generico=s),class:"px-2 py-1.5 rounded-none"},{default:y(()=>[p(c(W),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[v,a.can(["update reporte"])],[b,a.lang().tooltip.edit]]),h((o(),u(R,{type:"button",onClick:l=>(e.deleteOpen=!0,e.generico=s),class:"px-2 py-1.5 rounded-none"},{default:y(()=>[p(c(Q),{class:"w-4 h-4"})]),_:2},1032,["onClick"])),[[v,a.can(["delete reporte"])],[b,a.lang().tooltip.delete]])])])]),t("td",Ge,m(++g),1),(o(),i(f,null,k(x,l=>t("td",Te,[l.type=="text"?(o(),i("span",Be,m(s[l.order]),1)):d("",!0),l.type=="time"?(o(),i("span",Ve,m(c(ae)(s[l.order])),1)):d("",!0),l.type=="number"?(o(),i("span",ze,m(c($)(s[l.order],0,!1)),1)):d("",!0),l.type=="dinero"?(o(),i("span",Ie,m(c($)(s[l.order],0,!0)),1)):d("",!0),l.type=="date"?(o(),i("span",Ne,m(c(O)(s[l.order],"")),1)):d("",!0),l.type=="datetime"?(o(),i("span",De,m(c(O)(s[l.order],"conLaHora")),1)):d("",!0),l.type=="foreign"?(o(),i("span",Ee,m(s[l.nameid]),1)):d("",!0),l.order=="hora_final"&&s[l.order]==null?(o(),i("span",Ue,[p(de)])):d("",!0)])),64))]))),128)),t("tr",null,[Ae,_.numberPermissions>1?(o(),i("td",Fe)):d("",!0),He,Le,We,t("td",qe,m(c(oe)(r.fromController.data,"hora_inicial",!0)),1)])])])):(o(),i("h2",Ke,"Sin Registros"))]),r.total>0?(o(),i("div",Me,[p(Z,{links:r.fromController,filters:e.params},null,8,["links","filters"])])):d("",!0)])])]),_:1})],64)}}};export{_t as default};
